mkdir -p "$HOME/Library/Application Support/Claude" && [ -f "$HOME/Library/Application Support/Claude/claude-desktop-config.json" ] && cp "$HOME/Library/Application Support/Claude/claude-desktop-config.json" "$HOME/Library/Application Support/Claude/claude-desktop-config.json.bak" && ([ -f "$HOME/Library/Application Support/Claude/claude-desktop-config.json" ] && grep -q "mcpServers" "$HOME/Library/Application Support/Claude/claude-desktop-config.json" && (grep -q "Context7" "$HOME/Library/Application Support/Claude/claude-desktop-config.json" || sed -i '' -e '/"mcpServers": {/ { :a; n; /}/ !ba; s/}/,\n    "Context7": {\n      "command": "npx",\n      "args": ["-y", "@upstash\/context7-mcp@latest"]\n    }\n}/; }' "$HOME/Library/Application Support/Claude/claude-desktop-config.json") || echo '{\n  "mcpServers": {\n    "Context7": {\n      "command": "npx",\n      "args": ["-y", "@upstash/context7-mcp@latest"]\n    }\n  }\n}' > "$HOME/Library/Application Support/Claude/claude-desktop-config.json") && echo "âœ… Context7 has been set up for Claude Desktop! Please restart Claude Desktop if it's running."
